Numeric Input  FLOW_SP_MAX, AIRFLOW_STATUS, DOAS_STATUS
Numeric Output ALARM_AIRFLOW_CALIBRATION
Numeric TMR
FUNCTION SECTIMER

goto WATCHING

WATCHING:
IF SECTIMER((DOAS_STATUS = on and (AIRFLOW_STATUS >= (FLOW_SP_MAX *.1))),600,TMR) then ALARM_AIRFLOW_CALIBRATION = 1 goto WAIT_LOOP
If DOAS_STATUS = OFF or AIRFLOW_STATUS < (FLOW_SP_MAX *.1) then ALARM_AIRFLOW_CALIBRATION = 0 goto WAIT_LOOP

WAIT_LOOP:
if ts > 10 then goto WATCHING