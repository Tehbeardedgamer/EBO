Numeric Input DAMPER_POSITION, FLOW_SP_MAX, AIRFLOW_STATUS, DOAS_STATUS
Numeric Output ALARM_AIRFLOW_MISMATCH
Numeric TMR
FUNCTION SECTIMER

goto WATCHING

WATCHING:
IF SECTIMER((DAMPER_POSITION = 0 and (AIRFLOW_STATUS >= (FLOW_SP_MAX *.1)) and DOAS_STATUS = on), 600,TMR) then ALARM_AIRFLOW_MISMATCH = 1 goto WAIT_LOOP
If DAMPER_POSITION > 0 or DOAS_STATUS = OFF or AIRFLOW_STATUS < (FLOW_SP_MAX *.1) then ALARM_AIRFLOW_MISMATCH = 0 goto WAIT_LOOP

WAIT_LOOP:
if ts > 10 then goto WATCHING